{"version":3,"sources":["contracts/useContract.js","components/tabs/lotItem.js","components/tabs/yourLotsTab.js","components/tabs/depositTab.js","components/tabs/statsTab.js","components/dashboard.js","connectors.js","components/header.js","components/intro.js","App.js","hooks.js","serviceWorker.js","index.js"],"names":["getContract","address","ABI","library","account","ethers","Contract","getSigner","useContract","withSignerIfPossible","useWeb3React","useMemo","undefined","error","console","usePooledStakingETHContract","POOLED_STAKING_ETH_ABI","useHegicContract","HEGIC_ABI","LotItem","props","useState","lotId","shares","pooledStakingETH","numberOfStakingLotsETH","setNumberOfStakingLotsETH","buttonEnabled","setButtonEnabled","useEffect","numberOfStakingLots","then","n","toNumber","button","withdrawLot","id","a","exitFromStakingLot","txReceipt","wait","activeButton","Button","style","margin","size","disabled","onClick","utils","commify","formatEther","outline","percentage","BigNumber","from","div","ListGroupItem","backgroundColor","border","ListGroupItemHeading","Badge","pill","fontSize","Progress","multi","bar","color","value","YourLotsTab","chainId","lotItems","setLotItems","profit","setProfit","statusMsg","setStatusMsg","createlotItems","x","items","getStakingLotShares","sharesInNextStakingLot","i","push","key","toString","waitAndUpdate","txRequest","log","hash","claimProfit","payProfit","profitOf","bn","StatusMsg","Alert","Row","Col","sm","Card","body","CardTitle","CardText","ListGroup","maxHeight","overflow","DepositTab","formatBN","HEGIC","amountToDeposit","setAmountToDeposit","balanceSHEGIC","setBalanceSHEGIC","numberOfSharesInLastLot","setNumberOfSharesInLastLot","setNumberOfStakingLots","totalBalance","setTotalBalance","lockedBalance","setLockedBalance","sharesInLastLot","setSharesInLastLot","availablePercentage","setAvailablePercentage","pendingPercentage","setPendingPercentage","allowance","setAllowance","depositButtonEnabled","setDepositButtonEnabled","status","balanceOf","balance","parseEther","lte","isZero","STAKING_LOT_PRICE_DIV_100","sub","mul","allow","amountToAllow","approve","depositHegic","deposit","filter","topics","once","event","marginBottom","animated","UncontrolledTooltip","placement","target","InputGroup","marginTop","Input","placeholder","onFocus","onChange","InputGroupAddon","addonType","InputGroupText","fontWeight","fontFamily","letterSpacing","background","borderImageSource","borderImageSlice","borderStyle","boxSizing","borderRadius","borderImageWidth","StatsTab","pooledStakingWBTC","POOLED_STAKING_WBTC_ABI","ethTotalBalance","setEthTotalBalance","ethLockedBalance","setEthLockedBalance","wbtcTotalBalance","setWbtcTotalBalance","wbtcLockedBalance","setWbtcLockedBalance","ethNumberOfStakingLots","setEthNumberOfStakingLots","wbtcNumberOfStakingLots","setWbtcNumberOfStakingLots","feeRecipient","setFeeRecipient","FEE_RECIPIENT","Dashboard","stakingETH","STAKING_ETH_ABI","mintHegic","amountToMint","mintTo","sendProfit","activeTab","setActiveTab","toggle","tab","Container","md","offset","Nav","tabs","justifyContent","borderBottom","NavItem","NavLink","className","classnames","active","TabContent","TabPane","tabId","display","injected","InjectedConnector","supportedChainIds","Header","hegicBalance","setHegicBalance","ETHBalance","setETHBalance","str","maxDecimalDigits","includes","parts","split","slice","truncateEtherValue","getBalance","Wallet","zIndex","len","length","substring","truncateAddress","disconnect","connect","Navbar","Intro","minHeight","lineHeight","textTransform","getLibrary","provider","connector","providers","Web3Provider","App","context","activate","deactivate","React","activatingConnector","setActivatingConnector","suppress","ethereum","window","on","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","tried","setTried","isAuthorized","catch","useEagerConnect","backgroundImage","height","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.107cf87a.chunk.js","sourcesContent":["import { useWeb3React } from '@web3-react/core'\nimport { useMemo } from 'react'\nimport { ethers } from 'ethers'\n\nimport { abi as POOLED_STAKING_ETH_ABI } from './json/HegicPooledStakingETH.json'\nimport { abi as POOLED_STAKING_WBTC_ABI } from './json/HegicPooledStakingWBTC.json'\nimport { abi as STAKING_ETH_ABI } from './json/FakeHegicStakingETH.json'\nimport { abi as HEGIC_ABI } from './json/FakeHEGIC.json'\n\n// TEST1 CONTRACTS\n// const POOLED_STAKING_ETH_ADDRESS = '0x47B7C230E8624eB598046DB751A7abDE891df95a'\n// const POOLED_STAKING_WBTC_ADDRESS = '0xa3ae456c6b1487f1C0dB5592C72eAcD7DC1759fe'\n// const STAKING_ETH_ADDRESS = '0xdDEA8F9e69B05C1aAbeeb58d221652A3B92d613C'\n// const HEGIC_ADDRESS = '0xaA2A5976a9E9D3d6E4664145F97105881C16c0B9'\n\n// FAKE CONTRACTS\nconst POOLED_STAKING_ETH_ADDRESS = '0x6343f5A184be34306f18A7Ef7a3330a43cf733d7'\nconst POOLED_STAKING_WBTC_ADDRESS = '0x2e7Fc37Fc94e16BBFeABd65B94506BCA93136e3c'\nconst STAKING_ETH_ADDRESS = '0x55BB507c5B1e3E67DE2fc790A36FC81016571250'\nconst HEGIC_ADDRESS = '0xaA2A5976a9E9D3d6E4664145F97105881C16c0B9'\n\n// returns null on errors\nfunction getContract(address, ABI, library, account) {\n    return new ethers.Contract(address, ABI, library.getSigner(account))\n}\n\nfunction useContract(address, ABI, withSignerIfPossible = true) {\n    const { library, account } = useWeb3React()\n  \n    return useMemo(() => {\n      if (!address || !ABI || !library) return null\n      try {\n        return getContract(address, ABI, library, withSignerIfPossible && account ? account : undefined)\n      } catch (error) {\n        console.error('Failed to get contract', error)\n        return null\n      }\n    }, [address, ABI, library, withSignerIfPossible, account])\n  } \n\n  export function usePooledStakingETHContract() {\n    return useContract(POOLED_STAKING_ETH_ADDRESS, POOLED_STAKING_ETH_ABI);\n}\n\nexport function usePooledStakingWBTCContract() {\n    return useContract(POOLED_STAKING_WBTC_ADDRESS, POOLED_STAKING_WBTC_ABI);\n}\n\nexport function useStakingETHContract() {\n    return useContract(STAKING_ETH_ADDRESS, STAKING_ETH_ABI);\n}\n\nexport function useHegicContract() {\n    return useContract(HEGIC_ADDRESS, HEGIC_ABI);\n}","import React, {useEffect, useState} from 'react'\nimport { BigNumber, ethers } from 'ethers'\nimport { usePooledStakingETHContract } from '../../contracts/useContract';\nimport { Badge, ListGroupItem, ListGroupItemHeading, Progress, Button } from 'reactstrap'\n\nfunction LotItem(props) {\n    const [lotId] = useState(props.lotId);\n    const [shares] = useState(props.shares);\n    const pooledStakingETH = usePooledStakingETHContract();\n    const [numberOfStakingLotsETH, setNumberOfStakingLotsETH] = useState(0);\n    const [buttonEnabled, setButtonEnabled] = useState(true);\n\n    useEffect(() => {\n        pooledStakingETH.numberOfStakingLots().then((n) => {\n            setNumberOfStakingLotsETH(n.toNumber())\n        })\n    }, [pooledStakingETH])\n\n    const withdrawLot = async (id) => {\n        const txReceipt = await pooledStakingETH.exitFromStakingLot(id)\n        setButtonEnabled(false);\n        await txReceipt.wait()\n    }\n\n    let button;\n        if((shares > 0 && props.activeButton) || lotId == numberOfStakingLotsETH) \n        button = (\n            <Button style={{margin:'3px'}} size=\"sm\" disabled={!buttonEnabled} onClick={() => withdrawLot(lotId)}>\n                Withdraw {ethers.utils.commify(ethers.utils.formatEther(shares))} HEGIC\n            </Button>\n        );\n        else if (!props.activeButton && lotId != numberOfStakingLotsETH)\n            button = (\n                <Button style={{margin:'3px'}} outline disabled size=\"sm\">\n                    Withdraw unused funds\n                </Button>\n            )\n        else\n            button = (\n                <Button style={{margin:'3px'}} outline disabled size=\"sm\">\n                    No HEGIC staked in lot\n                </Button>\n            )\n        \n        const percentage = ethers.BigNumber.from(shares)\n                            .div(ethers.BigNumber.from('888000000000000000000')).toNumber()/10;\n        return (\n            <ListGroupItem style={{backgroundColor:'transparent', border:'1px solid #223265'}}>\n                    <ListGroupItemHeading>Lot {lotId} <Badge pill style={{fontSize:12}}>{percentage}%</Badge>{button}</ListGroupItemHeading>\n                        <Progress multi>\n                            <Progress bar color=\"warning\" value={percentage}>You</Progress>\n                            { lotId === numberOfStakingLotsETH ? \n                                (<Progress bar color=\"secondary\" value={100-percentage}></Progress>)\n                                 : \n                                (<Progress bar color=\"info\" value={100-percentage}>Others</Progress>)\n                            }\n                        </Progress>\n            </ListGroupItem>\n        )\n    }\n\nexport default LotItem;","import { useWeb3React } from '@web3-react/core';\nimport React, { useState, useEffect } from 'react'\nimport { usePooledStakingETHContract } from '../../contracts/useContract';\nimport LotItem from './lotItem'\nimport { CardTitle, Row, Col, Card, ListGroup, Button, CardText, Alert } from 'reactstrap'\nimport { ethers } from 'ethers'\n\nfunction YourLotsTab () {\n    const {account, library, chainId } = useWeb3React();\n    const pooledStakingETH = usePooledStakingETHContract();\n    const [lotItems, setLotItems] = useState();\n    const [profit, setProfit] = useState(ethers.BigNumber.from('0'));\n    const [statusMsg, setStatusMsg] = useState('');\n\n    const createlotItems = async () => {\n        const numberOfStakingLots = await pooledStakingETH.numberOfStakingLots().then(x => x.toNumber());\n        const items = []\n        let shares; \n        const sharesInNextStakingLot = await pooledStakingETH.getStakingLotShares(numberOfStakingLots, account);\n        for(let i = 0; i <= numberOfStakingLots; i++){\n            shares = await pooledStakingETH.getStakingLotShares(i, account)\n            if(shares > 0)\n                items.push(<LotItem key={i} shares={shares.toString()} lotId={i} activeButton={sharesInNextStakingLot==0}></LotItem>)\n        }\n\n        return items\n    }\n\n    const waitAndUpdate = async (txRequest) => {\n        console.log(txRequest.hash)\n        setStatusMsg(\"Pending \" + txRequest.hash);\n        await txRequest.wait();\n        setStatusMsg(\"\");\n    }\n\n    const claimProfit = async () => {\n        const txRequest = await pooledStakingETH.payProfit({from: account});\n        await waitAndUpdate(txRequest)\n    }\n\n    useEffect(() => {\n        if (!!account && !!library) {\n            createlotItems().then((x) => {\n                setLotItems(x);\n            })\n            \n            pooledStakingETH.profitOf(account).then(profit => {\n                setProfit(profit);\n            })\n        }\n    }, [account, library, chainId]);\n\n    const formatBN = (bn) => {\n        return ethers.utils.commify(ethers.utils.formatEther(bn.toString()));\n    }\n\n    const StatusMsg = () => {\n        return (\n            <>\n            { statusMsg ? (\n                <Alert color=\"primary\">\n                    {statusMsg}\n                </Alert> \n            ) : null }\n            </>\n        );\n    }\n\n    return (\n        <>\n            <Row>\n                <Col sm=\"12\">\n                    <Card body >\n                        <CardTitle><h3>Your Staking Lots</h3></CardTitle>\n                        <CardText>Your profit: {formatBN(profit)} <Button size=\"sm\" onClick={claimProfit}>Claim</Button></CardText>\n                        <StatusMsg />\n                        <ListGroup style={{maxHeight:\"300px\", overflow:\"scroll\", border:\"1px solid rgba(0, 0, 0, 0.125)\"}}>\n                            {lotItems}\n                        </ListGroup>\n                    </Card>\n                </Col>\n            </Row> \n        </>\n    )\n}\n\nexport default YourLotsTab;","import { useWeb3React } from '@web3-react/core';\nimport { BigNumber, ethers } from 'ethers'\nimport React, {useState, useEffect} from 'react'\nimport { UncontrolledTooltip, Row, Col, Card, CardTitle, Alert, CardText, Input, Button, Badge, InputGroup, InputGroupAddon, InputGroupText, Progress} from 'reactstrap'\nimport { usePooledStakingETHContract, useHegicContract } from '../../contracts/useContract';\nfunction DepositTab() {\n    const {account, library, chainId } = useWeb3React();\n\n    const formatBN = (bn) => {\n        return ethers.utils.commify(ethers.utils.formatEther(bn.toString()));\n    }\n    const HEGIC = useHegicContract();\n\n    const [amountToDeposit, setAmountToDeposit] = useState(0);\n    const [balanceSHEGIC, setBalanceSHEGIC] = useState(ethers.BigNumber.from('0'));\n    const [numberOfSharesInLastLot, setNumberOfSharesInLastLot] = useState(ethers.BigNumber.from('0'));\n    const [statusMsg, setStatusMsg] = useState();\n    const pooledStakingETH = usePooledStakingETHContract();\n    const [numberOfStakingLots, setNumberOfStakingLots] = useState(ethers.BigNumber.from('0'));\n    const [totalBalance, setTotalBalance] = useState(ethers.BigNumber.from('0'));\n    const [lockedBalance, setLockedBalance] = useState(ethers.BigNumber.from('0'));\n    const [sharesInLastLot, setSharesInLastLot] = useState(ethers.BigNumber.from('0'));\n    const [availablePercentage, setAvailablePercentage] = useState(0);\n    const [pendingPercentage, setPendingPercentage] = useState(0);\n    const [allowance, setAllowance] = useState();\n    const [depositButtonEnabled, setDepositButtonEnabled] = useState(false);\n\n\n    useEffect(() => {\n        let status = true;\n        status = status && amountToDeposit > 0;\n\n        HEGIC.balanceOf(account).then((balance) => {\n            status = status && ethers.utils.parseEther(amountToDeposit).lte(balance);\n            setDepositButtonEnabled(status);\n        });\n\n    }, [account, library, chainId, amountToDeposit])\n\n    useEffect(() => {\n      HEGIC.allowance(account, pooledStakingETH.address).then(x => {\n        setAllowance(x.isZero())\n      })\n      \n    }, [account])\n\n    useEffect(() => {\n        if(!!account && !!library)\n            pooledStakingETH.balanceOf(account).then((balance) => setBalanceSHEGIC(balance));\n    }, [account, library, chainId, pooledStakingETH])\n\n    useEffect(() => {\n        if(!!account && !!library){\n            pooledStakingETH.totalBalance().then((balance) => setTotalBalance(balance));\n            pooledStakingETH.lockedBalance().then((balance) => setLockedBalance(balance));\n            pooledStakingETH.numberOfStakingLots().then(n => {\n                setNumberOfStakingLots(n)\n                const STAKING_LOT_PRICE_DIV_100 = ethers.BigNumber.from('8880000000000000000000'); // divided by 100\n                pooledStakingETH.getStakingLotShares(n, account)\n                .then(shares => {\n                    setNumberOfSharesInLastLot(shares);\n                    setSharesInLastLot(shares.div(STAKING_LOT_PRICE_DIV_100).toNumber())\n                    });\n            });\n        }\n     }, [account, library, chainId])\n\n    useEffect(() => {\n        if(!totalBalance.isZero()){\n            const availablePercentage = totalBalance.sub(lockedBalance).mul(ethers.BigNumber.from('100')).div(ethers.utils.parseEther('888000')).toNumber();\n            const pendingPercentage = 100 - availablePercentage;\n\n\n            setAvailablePercentage(availablePercentage);\n            setPendingPercentage(pendingPercentage);\n        }\n    }, [totalBalance, lockedBalance, numberOfStakingLots, sharesInLastLot])\n\n    const allow = async () => {\n        const amountToAllow = ethers.BigNumber.from(\"88700000000000000000000000\");\n        const txRequest = await HEGIC.approve(pooledStakingETH.address, amountToAllow);\n        await waitAndUpdate(txRequest)\n      }\n\n    const waitAndUpdate = async (txRequest) => {\n        setStatusMsg(\"Pending \"+txRequest.hash);\n        await txRequest.wait();\n        setStatusMsg(\"\");\n    }\n\n    const depositHegic = async () => {\n        const txRequest = await pooledStakingETH.deposit(ethers.utils.parseEther(amountToDeposit));\n        setAmountToDeposit(0);\n        await waitAndUpdate(txRequest);\n    }\n\n    const StatusMsg = () => {\n        return (\n            <>\n            { statusMsg ? (\n                <Alert color=\"primary\">\n                    {statusMsg}\n                </Alert> \n            ) : null }\n            </>\n        );\n    }\n\n    const filter = {\n        address: '0x47B7C230E8624eB598046DB751A7abDE891df95a',\n        topics: [\n            ethers.utils.id(\"Deposit(address,uint256)\")\n        ]\n    }\n    \n    library.once(filter, (log, event) => {\n        pooledStakingETH.totalBalance().then((balance) => setTotalBalance(balance));\n    });\n\n    return (\n        <Row>\n        <Col sm=\"12\">\n            <Card body>\n                <CardTitle><h3>Stake $HEGIC</h3></CardTitle>\n\n                <CardText>\n                    <Badge color=\"primary\">You have {formatBN(balanceSHEGIC)} sHEGIC</Badge>\n                </CardText>\n\n                <CardText>\n                    Deposit your $HEGIC in the pool and start earning fees generated by the Hegic Protocol.<br />\n                    1. Deposit your $HEGIC<br />\n                    2. When deposited amount reaches the Staking Lot Price, the contract will buy a Hegic Staking Lot<br />\n                    3. Earn fees and exit the pool when you want\n                </CardText>\n                    <>\n                    <h5>Next Lot</h5> \n                    <Badge style={{marginBottom:'5px'}}>{ formatBN(ethers.utils.parseEther('888000').sub(totalBalance.sub(lockedBalance)).toString())} HEGIC until next Staking Lot purchase</Badge>\n                    { totalBalance.toString() == '0' ? null : (\n                    <>\n                        { sharesInLastLot.toString() == '0' ? (\n                            <Progress multi>\n                                <Progress bar color=\"warning\" value={availablePercentage}>Others</Progress>\n                                <Progress bar animated color=\"secondary\" value={pendingPercentage}>Pending</Progress>\n                            </Progress>\n                        ) : (<>\n                            <Progress multi>\n                                <Progress bar id='progress-others' color=\"warning\" value={availablePercentage-sharesInLastLot}>Others</Progress>\n                                <Progress bar id='progress-you' color=\"primary\" value={sharesInLastLot}>You</Progress>\n                                <Progress bar animated id='progress-pending' color=\"secondary\" value={pendingPercentage}>Pending</Progress>\n                            </Progress>\n                            <UncontrolledTooltip placement=\"bottom\"  target=\"progress-others\" >\n                            Others: {formatBN(totalBalance.sub(lockedBalance).sub(balanceSHEGIC))} HEGIC\n                          </UncontrolledTooltip>\n                            <UncontrolledTooltip placement=\"bottom\" target=\"progress-you\" >\n                            You: {formatBN(numberOfSharesInLastLot)} HEGIC\n                          </UncontrolledTooltip>\n                          <UncontrolledTooltip placement=\"bottom\" target=\"progress-pending\" >\n                            Pending: {formatBN(ethers.utils.parseEther('888000').sub(totalBalance.sub(lockedBalance)))} HEGIC\n                          </UncontrolledTooltip>\n                          </>\n                        ) }\n                    </>\n                    )}\n                    </>\n                <InputGroup style={{marginTop:'15px'}}>\n                    <Input placeholder=\"0\" \n                    onFocus={(event) => event.target.value = ''}\n                    value={amountToDeposit}\n                    onChange={(event) => {\n                        setAmountToDeposit(event.target.value || '0')\n                    }}/>\n                    <InputGroupAddon addonType=\"append\">\n                    <InputGroupText>HEGIC</InputGroupText>\n                    </InputGroupAddon>  \n                </InputGroup>\n                { allowance ?\n        (<Button style={{\n            marginTop:'10px',\n            color:'#15203d',\n            fontWeight:'bold',\n            fontFamily:'Jura',\n            letterSpacing:'.1em',\n            background:'transparent',\n            borderImageSource:'url(https://www.hegic.co/assets/img/button-primary.svg)', \n            borderImageSlice:'20',\n            borderStyle:'solid',\n            boxSizing:'border-box',\n            borderRadius:'2px',\n            borderImageWidth:'50px'}} onClick={allow}>APPROVE HEGIC</Button>)\n         :\n        ( null ) }\n                <Button style={{\n                        marginTop:'10px',\n                        color:'#15203d',\n                        fontWeight:'bold',\n                        fontFamily:'Jura',\n                        letterSpacing:'.1em',\n                        background:'transparent',\n                        borderImageSource:'url(https://www.hegic.co/assets/img/button-primary.svg)', \n                        borderImageSlice:'20',\n                        borderStyle:'solid',\n                        boxSizing:'border-box',\n                        borderRadius:'2px',\n                        borderImageWidth:'50px'}} disabled={ !depositButtonEnabled ? true : false } onClick={depositHegic}><b>DEPOSIT</b></Button>\n                <StatusMsg />\n            </Card>\n        </Col>\n      </Row>\n    )\n}\n\nexport default DepositTab;","import React, { useEffect, useState } from 'react'\nimport { ethers } from \"ethers\"\nimport { useWeb3React } from '@web3-react/core';\nimport { usePooledStakingETHContract, usePooledStakingWBTCContract } from '../../contracts/useContract';\nimport { Row, Col, Card, CardTitle } from 'reactstrap'\n\nfunction StatsTab() {\n    const {account, library} = useWeb3React();\n    const pooledStakingETH = usePooledStakingETHContract();\n    const pooledStakingWBTC = usePooledStakingWBTCContract();\n    \n    const [ethTotalBalance, setEthTotalBalance] = useState()\n    const [ethLockedBalance, setEthLockedBalance] = useState()\n    const [wbtcTotalBalance, setWbtcTotalBalance] = useState()\n    const [wbtcLockedBalance, setWbtcLockedBalance] = useState()\n    const [ethNumberOfStakingLots, setEthNumberOfStakingLots] = useState()\n    const [wbtcNumberOfStakingLots, setWbtcNumberOfStakingLots] = useState()\n    const [feeRecipient, setFeeRecipient] = useState();\n\n    useEffect(() => {\n        if(!!account && !!library){\n            pooledStakingETH.totalBalance().then((x) => setEthTotalBalance(ethers.utils.commify(ethers.utils.formatEther(x.toString()))));\n            pooledStakingETH.lockedBalance().then((x) => setEthLockedBalance(ethers.utils.commify(ethers.utils.formatEther(x.toString()))));\n            pooledStakingWBTC.totalBalance().then((x) => setWbtcTotalBalance(ethers.utils.commify(ethers.utils.formatEther(x.toString()))));\n            pooledStakingWBTC.lockedBalance().then((x) => setWbtcLockedBalance(ethers.utils.commify(ethers.utils.formatEther(x.toString()))));\n            pooledStakingETH.numberOfStakingLots().then((x) => setEthNumberOfStakingLots(x.toString()));\n            pooledStakingWBTC.numberOfStakingLots().then((x) => setWbtcNumberOfStakingLots(x.toString()));\n            pooledStakingETH.FEE_RECIPIENT().then((x) => setFeeRecipient(x));\n        }\n    });\n    \n    return (\n        <Row>\n            <Col sm=\"12\">\n            <Card body>\n                <CardTitle><h3>Stats</h3></CardTitle>\n                    <span>Fee recipient is {feeRecipient}</span><br></br>\n                    <span>ETH {ethLockedBalance}/{ethTotalBalance}</span><br></br>\n                    <span>WBTC {wbtcLockedBalance}/{wbtcTotalBalance}</span><br></br>\n                    <span>Number of staking lots ETH {ethNumberOfStakingLots}</span><br></br>\n                    <span>Number of staking lots WBTC {wbtcNumberOfStakingLots}</span>\n                </Card>\n            </Col>\n        </Row>\n\n    );\n}\n// class Stats extends React.Component {\n//     constructor(props){\n//     super(props)\n//     this.state = {\n//         ethTotalBalance: '',\n//         ethLockedBalance: '',\n//             wbtcTotalBalance: '',\n//             wbtcLockedBalance: '',\n//             feeRecipient: '',\n//             wbtcNumberOfStakingLots: '',\n//             ethNumberOfStakingLots: ''\n//         }\n//     }\n    \n//     async componentDidMount(){\n//         const ethTotalBalance = await pooledStakingETH.totalBalance().then(x => x.toString())\n//         const ethLockedBalance = await pooledStakingETH.lockedBalance().then(x => x.toString())\n//         const wbtcTotalBalance = await pooledStakingWBTC.totalBalance().then(x => x.toString())\n//         const wbtcLockedBalance = await pooledStakingWBTC.lockedBalance().then(x => x.toString())\n//         const ethNumberOfStakingLots = await pooledStakingETH.numberOfStakingLots().then(x => x.toString())\n//         const wbtcNumberOfStakingLots = await pooledStakingWBTC.numberOfStakingLots().then(x => x.toString())\n        \n//         const feeRecipient = await pooledStakingETH.FEE_RECIPIENT();\n//         this.setState({\n//             ethLockedBalance,\n//             ethTotalBalance,\n//             wbtcLockedBalance,\n//             wbtcTotalBalance,\n//             feeRecipient,\n//             wbtcNumberOfStakingLots,\n//             ethNumberOfStakingLots\n//         });\n//     }\n\n//     render () {\n//         return (\n//             <div className=\"App-header\">\n//                 <h3>Pool Analytics</h3>\n//                 <span>Fee recipient is {this.state.feeRecipient}</span>\n//                 <span>ETH {this.state.ethLockedBalance}/{this.state.ethTotalBalance}</span>\n//                 <span>WBTC {this.state.wbtcLockedBalance}/{this.state.wbtcTotalBalance}</span>\n//                 <span>Number of staking lots ETH {this.state.ethNumberOfStakingLots}</span>\n//                 <span>Number of staking lots WBTC {this.state.wbtcNumberOfStakingLots}</span>\n//             </div>\n//         );\n//     }\n// }\n\nexport default StatsTab;","import React, { useEffect, useState } from 'react'\nimport { ethers } from 'ethers'\nimport { useWeb3React } from '@web3-react/core'\nimport { useHegicContract, usePooledStakingETHContract, useStakingETHContract } from '../contracts/useContract'\nimport { Container, Row, Col } from 'reactstrap'\nimport { TabContent, TabPane, Nav, NavItem, NavLink, Button } from 'reactstrap';\nimport classnames from 'classnames'\n\nimport YourLotsTab from './tabs/yourLotsTab'\nimport DepositTab from './tabs/depositTab'\nimport StatsTab from './tabs/statsTab'\n\nfunction Dashboard() {\n  const { account } = useWeb3React()\n  const HEGIC = useHegicContract();\n  const pooledStakingETH = usePooledStakingETHContract();\n  const stakingETH = useStakingETHContract();\n\n  const waitAndUpdate = async (txRequest) => {\n    console.log(txRequest.hash)\n    await txRequest.wait();\n  }\n\n  const mintHegic = async () => {\n    const amountToMint = ethers.BigNumber.from(\"300000000000000000000000\");\n    const txRequest = await HEGIC.mintTo(account, amountToMint);\n    await waitAndUpdate(txRequest)\n  }\n\n  const sendProfit = async () => {\n    const txRequest = await stakingETH.sendProfit({ value: ethers.utils.parseEther(\"0.1\") })\n    await waitAndUpdate(txRequest)\n  }\n\n  const [activeTab, setActiveTab] = useState('1');\n\n  const toggle = tab => {\n    if (activeTab !== tab) setActiveTab(tab);\n  }\n\n  return (\n    <Container>\n      <Row style={{ marginTop: \"10vh\" }}>\n        <Col sm=\"12\" md={{ size: 6, offset: 3 }}>\n          <div>\n            <Nav tabs style={{ justifyContent: \"center\", borderBottom: 0 }}>\n              <NavItem>\n                <NavLink\n                  className={classnames({ active: activeTab === '1' })}\n                  onClick={() => { toggle('1'); }}\n                >\n                  Deposit {\"&\"} Stake\n                </NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink\n                  className={classnames({ active: activeTab === '2' })}\n                  onClick={() => { toggle('2'); }}\n                >\n                  Your Staking Lots\n                </NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink\n                  className={classnames({ active: activeTab === '3' })}\n                  onClick={() => { toggle('3'); }}\n                >\n                  Stats\n                </NavLink>\n              </NavItem>\n            </Nav>\n            <TabContent activeTab={activeTab}>\n              <TabPane tabId=\"1\">\n                <DepositTab />\n              </TabPane>\n              <TabPane tabId=\"2\">\n                <YourLotsTab />\n              </TabPane>\n              <TabPane tabId=\"3\">\n                <StatsTab />\n              </TabPane>\n            </TabContent>\n          </div>\n        </Col>\n      </Row>\n      <Row>\n        <Col sm=\"12\" md={{ size: 6, offset: 3 }} style={{display:'flex', justifyContent:'center'}}>\n        <Button size=\"sm\" onClick={mintHegic}>Mint 300k HEGIC</Button>\n        <Button size=\"sm\" onClick={sendProfit}>Send Profit (0.1ETH)</Button>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Dashboard;","import { InjectedConnector } from '@web3-react/injected-connector'\nexport const injected = new InjectedConnector({ supportedChainIds: [1, 3, 4, 5, 42] })\n","import React, { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useHegicContract } from '../contracts/useContract'\nimport { ethers } from 'ethers';\nimport { injected } from '../connectors'\nimport { useEagerConnect, useInactiveListener } from '../hooks'\nimport { Badge, Button, Col, Navbar} from 'reactstrap';\nimport { checkProperties } from 'ethers/lib/utils';\n\nfunction Header(props) {\n    const { account, library, chainId, active } = useWeb3React();\n    const HEGIC = useHegicContract();\n\n    const [hegicBalance, setHegicBalance] = useState(0);\n    const [ETHBalance, setETHBalance] = useState(0);\n\n   const truncateEtherValue = (str, maxDecimalDigits) => {\n    if (str.includes(\".\")) {\n      const parts = str.split(\".\");\n      return parts[0] + \".\" + parts[1].slice(0, maxDecimalDigits);\n    }\n    return str;\n  };\n\n    const formatBN = (bn) => {\n        return truncateEtherValue(ethers.utils.commify(ethers.utils.formatEther(bn.toString())), 4);\n    }\n\n    const truncateAddress = (str) => {\n        const len = str.length;\n        return str.substring(0, 8) + '...' + str.substring(len-7, len-1);\n    }\n\n    useEffect(() => {\n        if(!!account && !!library)\n            HEGIC.balanceOf(account).then((balance) => setHegicBalance(balance));\n    }, [account, library, chainId, HEGIC])\n\n    useEffect(() => {\n        if(!!account && !!library)\n            library.getBalance(account).then((balance) => setETHBalance(balance))\n    }, [account, library, chainId])\n\n    const Wallet = () => {\n        return (\n            <>\n                <Col sm='0' md={{size:2, offset:5}} style={{display:'flex', justifyContent:'center'}}>\n                    <h3 style={{color:'#45fff4', zIndex:'99', fontFamily:'Jura', fontWeight:'bold'}}>HEGIC</h3>\n                </Col>\n                <Col sm='12' md={{size:5, offset:0}} style={{display:'flex', justifyContent:'flex-end'}}>\n                { active ? (\n                    <div>\n                        <Badge color=\"primary\" style={{margin:\"2.5px\"}}>{formatBN(hegicBalance)} HEGIC </Badge>\n                        <Badge color=\"secondary\" style={{margin:\"2.5px\"}}>{formatBN(ETHBalance)} ETH </Badge>\n                        <span style={{color:'#defefe', fontSize:'12px'}}>{truncateAddress(account)}</span>\n                        <Button color=\"link\" onClick={props.disconnect}>Disconnect</Button>\n                    </div>\n                ) : (\n                    <Button color=\"link\" onClick={props.connect}>Connect</Button>\n                )}\n                </Col>\n            </>\n        )\n    }\n    \n    return (\n            <Navbar style={{display:'flex', backgroundColor:'#19274d', borderBottom: '1px solid #45fff4'}}>\n                <Wallet />\n            </Navbar>\n    );\n}\n\nexport default Header;","import React from 'react';\nimport { Row, Container, Col, Button } from 'reactstrap';\n\nfunction Intro(props) {\n\n    return (\n    <Container>\n        <Row style={{marginTop:'10vh', minHeight:'50vh', zIndex:'-1'}}>\n            <Col sm='12' md={{ size: 6, offset: 3}}>\n                    <h1 style={{\n                        color:'#45fff4',\n                        fontFamily:'Jura',\n                        fontWeight:'bold',\n                        lineHeight:'125%',\n                        fontSize:'46px',\n                        textTransform:'uppercase'\n                        }}>Hegic Staking Lots for everyone</h1>\n                    <div style={{color: '#defefe', fontFamily:'Exo 2', fontWeight:'500', lineHeight:'150%'}}>\n                    Hegic Protocol generates fees that are distributed among Hegic Staking Lot owners.\n                    Those staking lots are priced at 888,000 HEGIC, being simply unreachable for most of HEGIC holders.\n                    Thanks to <b>Staking Pools</b> you can own a share of a staking lot and earn fees that were reserved\n                    for whales only. \n                    </div>\n                    <div style={{marginTop:'25px', display:'flex', justifyContent:'center'}}>\n                    <Button style={{\n                        color:'#15203d',\n                        fontWeight:'bold',\n                        fontFamily:'Jura',\n                        letterSpacing:'.1em',\n                        background:'transparent',\n                        borderImageSource:'url(https://www.hegic.co/assets/img/button-primary.svg)', \n                        borderImageSlice:'20',\n                        borderStyle:'solid',\n                        boxSizing:'border-box',\n                        borderRadius:'2px',\n                        borderImageWidth:'50px'}} \n                        onClick={props.connect}>CONNECT WALLET</Button>\n                    </div>\n            </Col>\n        </Row>\n    </Container>);\n}\n\nexport default Intro;","import React from 'react';\nimport Dashboard from './components/dashboard';\nimport Header from './components/header'\nimport Intro from './components/intro'\nimport { useWeb3React, Web3ReactProvider } from '@web3-react/core'\nimport { ethers } from 'ethers';\nimport { useEagerConnect, useInactiveListener } from './hooks'\nimport { injected } from './connectors';\n\nfunction getLibrary(provider, connector) {\n  return new ethers.providers.Web3Provider(provider)\n}\n\nfunction App() {\n  const context = useWeb3React()\n  const { connector, active, activate, deactivate } = context\n\n    // handle logic to recognize the connector currently being activated\n    const [activatingConnector, setActivatingConnector] = React.useState()\n    React.useEffect(() => {\n      if (activatingConnector && activatingConnector === connector) {\n        setActivatingConnector(undefined)\n      }\n    }, [activatingConnector, connector])\n  \n    // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\n    const triedEager = useEagerConnect()\n  \n    // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\n    useInactiveListener(!triedEager || !!activatingConnector)\n  \n    function connect() {\n        setActivatingConnector(injected)\n        activate(injected)\n    }\n    \n    function disconnect() {\n      deactivate(injected)\n    }\n  return (\n  <div style={{ background:'radial-gradient(68.28% 53.52% at 50% 50%, #1c2a4f 0%, #111b35 100%)'}}>\n      <div style={{backgroundImage:'url(https://www.hegic.co/assets/img/background-image.svg)', height:'100vh'}}>\n          <Header connect={connect} disconnect={disconnect}/>\n          { active ? (\n            <Dashboard />\n          ) : (\n            <Intro connect={connect} />\n          )}\n          {/* <Stats /> */}\n      </div>\n  </div>\n\n  );\n}\n\n\nexport default () => (\n  <Web3ReactProvider getLibrary={getLibrary}>\n    <App />\n  </Web3ReactProvider>\n)\n","import { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { injected } from './connectors'\n\nexport function useEagerConnect() {\n    const { activate, active } = useWeb3React()\n  \n    const [tried, setTried] = useState(false)\n  \n    useEffect(() => {\n      injected.isAuthorized().then((isAuthorized) => {\n        if (isAuthorized) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true)\n          })\n        } else {\n          setTried(true)\n        }\n      })\n    }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n  \n    // if the connection worked, wait until we get confirmation of that to flip the flag\n    useEffect(() => {\n      if (!tried && active) {\n        setTried(true)\n      }\n    }, [tried, active])\n  \n    return tried\n  }\n  \n  export function useInactiveListener(suppress = false) {\n    const { active, error, activate } = useWeb3React()\n  \n    useEffect(() => {\n      const { ethereum } = window\n      if (ethereum && ethereum.on && !active && !error && !suppress) {\n        const handleConnect = () => {\n          console.log(\"Handling 'connect' event\")\n          activate(injected)\n        }\n        const handleChainChanged = (chainId) => {\n          console.log(\"Handling 'chainChanged' event with payload\", chainId)\n          activate(injected)\n        }\n        const handleAccountsChanged = (accounts) => {\n          console.log(\"Handling 'accountsChanged' event with payload\", accounts)\n          if (accounts.length > 0) {\n            activate(injected)\n          }\n        }\n        const handleNetworkChanged = (networkId) => {\n          console.log(\"Handling 'networkChanged' event with payload\", networkId)\n          activate(injected)\n        }\n  \n        ethereum.on('connect', handleConnect)\n        ethereum.on('chainChanged', handleChainChanged)\n        ethereum.on('accountsChanged', handleAccountsChanged)\n        ethereum.on('networkChanged', handleNetworkChanged)\n  \n        return () => {\n          if (ethereum.removeListener) {\n            ethereum.removeListener('connect', handleConnect)\n            ethereum.removeListener('chainChanged', handleChainChanged)\n            ethereum.removeListener('accountsChanged', handleAccountsChanged)\n            ethereum.removeListener('networkChanged', handleNetworkChanged)\n          }\n        }\n      }\n    }, [active, error, suppress, activate])\n  }\n  ","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './scss/custom.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}